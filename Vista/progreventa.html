<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>progreso venta</title>
    <link rel="stylesheet" href="../Vista/css/Contenido.css">
    <script src="https://kit.fontawesome.com/e674bba739.js" crossorigin="anonymous"></script>
    <style>
        .Tarjeta {
            border: 1px solid black;
            width: auto;
            padding: 10px;
            margin-bottom: 20px;
        }
        .Tarjeta img {
            width: 100%;
            height: auto;
            margin-bottom: 10px;
        }
        .card-buttons {
            text-align: center;
        }
        .card-buttons button {
            padding: 8px 16px;
            font-size: 16px;
            margin-right: 8px;
            color: white;
            cursor: pointer;
        }
        .eliminar-button {
            background-color: red;
            border: none;
        }
        .editar-button {
            background-color: blue;
            border: none;
        }
    </style>
</head>
<body>
    <?php
        include '../Controlador/DatosUsuarioC.php';
    ?>
    <div class="lateral">
        <p>Hola, <?php echo isset($datosUsuario['idUsuario']) ? $datosUsuario['idUsuario'] : ''; ?></p>
        <div class="fotoperf">
            <?php if (!empty($imagen_base64)): ?>
                <img src="data:imagen/jpeg;base64,<?php echo $imagen_base64; ?>" alt="Imagen de perfil">
            <?php else: ?>
                <img src="img/user-image.png" alt="Yo poni mi imagen aki">
            <?php endif; ?>
        </div> 
        <!-- Agregar nombre del usuario y su foto de perfil-->
        <div class="acc">
            <ul>
                <li><a href="subircasa.php">Quiero vender  <i class="fa-solid fa-tag"></i> </a> </li>
                <li><a href="Propiedades.php">Mis Propiedades  <i class="fa-solid fa-house"></i></a></li>
                <li><a href="misventas.html">Mis Ventas  <i class="fa-solid fa-wallet"></i></a></li>
                <li><a href="Miinfo.php">Mi Informacion  <i class="fa-solid fa-user"></i> </a></li>
                <li><a href="../Modelo/Cerrarsesion.php">Cerrar Sesion  <i class="fa-solid fa-arrow-right"></i></a></li>
                <li><a href="../Vista/subircasa.php">Agregar usuario</a></li>
            </ul>
        </div>
    </div>
    <div class="Adentro">
        <div class="portafolio">
            <div class="container">
                <h1>Mis Propiedades</h1>
                <?php if (!empty($propiedades)) : ?>
                    <?php foreach ($propiedades as $propiedad) : ?>
                        <div class="Tarjeta">
                            <h2><?php echo $propiedad['nombre']; ?></h2>
                            <img src="img/Casa1.jpeg" alt="">
                            <p><?php echo $propiedad['descripcion']; ?></p>
                            <div class="card-buttons">
                                <button class="editar-button" onclick="editarPropiedad(<?php echo $propiedad['id']; ?>)">Editar</button>
                                <button class="eliminar-button" onclick="eliminarPropiedad(<?php echo $propiedad['id']; ?>)">Eliminar</button>
                            </div>
                        </div>
                    <?php endforeach; ?>
                    <!-- Aquí se agregan tres tarjetas más -->
                    <?php foreach ($propiedades as $propiedad) : ?>
                        <div class="Tarjeta">
                            <h2><?php echo $propiedad['nombre']; ?></h2>
                            <img src="img/Dep1.jpg" alt="">
                            <p><?php echo $propiedad['descripcion']; ?></p>
                            <div class="card-buttons">
                                <button class="editar-button" onclick="editarPropiedad(<?php echo $propiedad['id']; ?>)">Editar</button>
                                <button class="eliminar-button" onclick="eliminarPropiedad(<?php echo $propiedad['id']; ?>)">Eliminar</button>
                            </div>
                        </div>
                        <div class="Tarjeta">
                            <h2><?php echo $propiedad['nombre']; ?></h2>
                            <img src="img/Casa1.jpeg" alt="">
                            <p><?php echo $propiedad['descripcion']; ?></p>
                            <div class="card-buttons">
                                <button class="editar-button" onclick="editarPropiedad(<?php echo $propiedad['id']; ?>)">Editar</button>
                                <button class="eliminar-button" onclick="eliminarPropiedad(<?php echo $propiedad['id']; ?>)">Eliminar</button>
                            </div>
                    <?php endforeach; ?>
                
            </div>
            <?php else : ?>
                    <p>No tienes propiedades registradas.</p>
                <?php endif; ?>
        </div>
    </div>

    <script>
        function editarPropiedad(idPropiedad) {
            // Lógica para editar la propiedad con el ID proporcionado
            console.log("Editar propiedad con ID: " + idPropiedad);
        }

        function eliminarPropiedad(idPropiedad) {
            // Lógica para eliminar la propiedad con el ID proporcionado
            console.log("Eliminar propiedad con ID: " + idPropiedad);
        }
    </script>
</body>
</html>
